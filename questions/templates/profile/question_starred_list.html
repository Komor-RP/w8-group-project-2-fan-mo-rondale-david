{% extends 'base.html' %}

{% block title %}
    Starred Questions - {{ block.super }}
{% endblock title %}

{% block content %}

    {% for question in starred_questions %}

    <div class="box question">
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <h2>{{ question.title }}</h2>
                        <p class="box-information">
                        <small>{{ question.author }}</small> - <small>{{ question.created_at }}</small>
                        </p>

                        {{ question.text }}

                </div>
                <nav class="level is-mobile">
                    <div class="level-left question-controls">

                        <a class="level-item" aria-label="reply">
                            <span class="icon is-small">
                                <i class="fas fa-reply fa-lg" aria-hidden="true"></i>
                            </span>
                        </a>
                        
                        <a class="level-item" aria-label="like">
                            <span class="icon is-small">
                                
                                {% if is_starred %}
                                <href="{ url 'starred_question' id=question.id }">
                                    {% comment %} <i class="fas fa-star fa-lg starred" aria-hidden="true" data-question="{{ question.id }}"></i> {% endcomment %}
                                    <i class="fas fa-star fa-lg starred" aria-hidden="true"></i>
                                {% else %}
                                <href="{ url 'starred_question' id=question.id }">
                                    {% comment %} <i class="fas fa-star fa-lg unstarred" aria-hidden="true" data-question="{{ question.id }}"></i> {% endcomment %}
                                    <i class="fas fa-star fa-lg starred" aria-hidden="true"></i>
                                {% endif %}

                            </span>
                        </a>
                        <div>
                            <p><strong>{{ question.stars.count }} Star{{ question.stars.count|pluralize }}</strong></p>
                            <p><strong>{{ question.answers.count }} Answer{{ question.answers.count|pluralize }}</strong></p>
                        </div>
                    </div>
                </nav>
            </div>
            {% comment %} {% if question.answers.all %}
            <div class="answer-box">
                {% for answer in question.answers.all %}
                    <div class="response">
                        <p>
                            <small>{{ answer.author }}</small> - <small>{{ answer.created_at }}</small>
                            <br>
                            {{ answer.text }}
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean efficitur sit amet massa fringilla egestas. Nullam condimentum luctus turpis.
                        </p>
                    </div>

                {% endfor %}
            </div>
            {% endif %} {% endcomment %}
        </article>
    </div>
    {% empty %}
        <p>No Starred Question found.</p>
    {% endfor %}
{% endblock content %}